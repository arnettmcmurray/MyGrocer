<!DOCTYPE html>
<html lang="en" x-data>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>MyGrocer — Pantry</title>

    <script
      defer
      src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <script defer src="/frontend_live/js/config.js"></script>
    <script defer src="/frontend_live/js/ui.js"></script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
    />
  </head>
  <body>
    <header class="container" x-data="topNav()">
      <nav>
        <ul>
          <li><strong>MyGrocer</strong></li>
        </ul>
        <ul>
          <li><a href="/frontend_live/index.html">Home</a></li>
          <li><a href="/frontend_live/recipes.html">Recipes</a></li>
          <li><a href="#" aria-disabled="true">Delivery (coming soon)</a></li>
          <li><button @click="logout" x-show="loggedIn">Logout</button></li>
        </ul>
      </nav>
    </header>

    <main class="container" x-data="pantryPage()" x-init="init()">
      <article>
        <h2>Your Pantry</h2>
        <div
          role="alert"
          style="color: crimson"
          x-show="error"
          x-text="error"
        ></div>
        <div x-show="loading">Loading…</div>

        <form
          @submit.prevent="addItem($event.target.item.value); $event.target.reset();"
        >
          <input name="item" placeholder="Add item…" />
          <button>Add</button>
        </form>

        <ul>
          <template x-for="it in items" :key="it.id">
            <li>
              <span x-text="it.name"></span>
              <button @click="removeItem(it.id)" style="margin-left: 0.5rem">
                Remove
              </button>
            </li>
          </template>
        </ul>
      </article>
    </main>
  </body>
</html>
